{% extends "paginated_list_view.html" %}

{% block title %}<i class="fas fa-gamepad"></i> Games{% endblock %}

{% block beforetable %}
{% include "season_chooser.html" %}
{% endblock %}

{% block thead %}
<br>
<tr>
	<th scope="col">Players</th>
	<th scope="col">Season</th>
	<th scope="col">End time</th>
	<th scope="col">Duration</th>
</tr>
{% endblock %}

{% block tbody %}
{% for game in object_list %}
<tr data-href="/games/{{ game.id }}/"{% if user in game.ordered_players %} class="table-primary"{% endif %}>
	<td>
		{% for player in game.ordered_players %}
		<a href="/players/{{ player.id }}/">{{ player.username }}</a>{% if not forloop.last %},{% endif %}
		{% endfor %}
	</td>
	<td>{{ game.season_number_str }}</td>
	<td>{{ game.end_str }}</td>
	<td>{{ game.duration_str }}</td>
</tr>
{% endfor %}
{% endblock %}
