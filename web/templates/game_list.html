{% extends "base.html" %}

{% block content %}
<h1>Games</h1>
<table class="table table-bordered table-striped table-sm">
	<thead>
		<tr>
			<th>Players</th>
			<th>Season</th>
			<th>End time</th>
			<th>Duration</th>
		</tr>
	</thead>
	<tbody>
		{% for game in object_list %}
		<tr data-href="/games/{{ game.id }}/">
			<td>
				{% for user in game.ordered_players %}
				<a href="/players/{{ user.id }}/">{{ user.username }}</a>{% if not forloop.last %},{% endif %}
				{% endfor %}
			</td>
			<td>{{ game.season_str }}</td>
			<td>{{ game.end_str }}</td>
			<td>{{ game.duration_str }}</td>
		</tr>
		{% endfor %}
	</tbody>
</table>

<nav aria-label="Page navigation">
	<ul class="pagination justify-content-center">
		{% if object_list.has_previous %}
		<li class="page-item">
			<a class="page-link" href="?page=1">First</a>
		</li>
		<li class="page-item">
			<a class="page-link" href="?page={{ object_list.previous_page_number }}">Previous</a>
		</li>
		{% endif %}
		<li class="page-item disabled"><a class="page-link" href="#">{{ object_list.number }} / {{ object_list.paginator.num_pages }}</a></li>
		{% if object_list.has_next %}
		<li class="page-item">
			<a class="page-link" href="?page={{ object_list.next_page_number }}">Next</a>
		</li>
		<li class="page-item">
			<a class="page-link" href="?page={{ object_list.paginator.num_pages }}">Last</a>
		</li>
		{% endif %}
	</ul>
</nav>
{% endblock %}
