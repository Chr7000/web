{% extends "base.html" %}

{% block content %}

<h2>
	{{ object.username }} 

	{% if object == user %}
		<a class="btn btn-primary float-right text-light col-md-auto" href="settings/">Profile settings</a>
		<br><br class="d-lg-none">
	{% endif %}
</h2>

{% include "season_chooser.html" %}
<br>

<h4><i class="fas fa-trophy"></i> Rank</h4>

<hr>

<div class="container">
	<div class="row">
		<div class="card col-md-2 m-auto">
			<div class="card-body text-center">
				<p class="card-title">Total sips</p>
				<h4 class="card-text">0</h4>
			</div>
		</div>
		<div class="card col-md-2 m-auto">
			<div class="card-body text-center">
				<p class="card-title">Best game</p>
				<h4 class="card-text">0</h4>
			</div>
		</div>
		<div class="card col-md-2 m-auto">
			<div class="card-body text-center">
				<p class="card-title">Worst game</p>
				<h4 class="card-text">0</h4>
			</div>
		</div>
		<div class="card col-md-2 m-auto">
			<div class="card-body text-center">
				<p class="card-title">Total chugs</p>
				<h4 class="card-text">0</h4>
			</div>
		</div>
		<div class="card col-md-2 m-auto">
			<div class="card-body text-center">
				<p class="card-title">Fastest chug</p>
				<h4 class="card-text">0</h4>
			</div>
		</div>
	</div>
</div>

<br>

<h4><i class="fas fa-chart-pie"></i> Stats</h4>

<hr>


<br>

<div class="row">
	<div class="col-md-6">
		<table class="table table-bordered table-striped table-sm">
			<tbody>
				<tr>
					<th>Games played</th>
					<td>{{ stats.total_games }}</td>
				</tr>
				<tr>
					<th>Total time played</th>
					<td>{{ stats.total_time_played }} (~ {{ stats.approx_ects|floatformat:1 }} ECTS)</td>
				</tr>
				<tr>
					<th>Estimated money spent</th>
					<td>{{ stats.approx_money_spent }}</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div class="col-md-6">
		<table class="table table-bordered table-striped table-sm">
			<tbody>
				<tr>
					<th>Total sips</th>
					<td>{{ stats.total_sips }} ({{ stats.total_beers }} beers)</td>
				</tr>
				<tr>
					<th>Best game</th>
					<td>{% include "utils/link.html" with text=stats.best_game_sips prefix="/games" id=stats.best_game.id %}
					</td>
				</tr>
				<tr>
					<th>Worst game</th>
					<td>{% include "utils/link.html" with text=stats.worst_game_sips prefix="/games" id=stats.worst_game.id %}
					</td>
				</tr>
				<tr>
					<th>Average game</th>
					<td>{% firstof stats.average_game_sips "-" %}</a></td>
				</tr>
				<tr>
					<th>Total chugs</th>
					<td>{{ stats.total_chugs }}</td>
				</tr>
				<tr>
					<th>Fastest chug time</th>
					<td>{% include "utils/link.html" with text=stats.fastest_chug.duration prefix="/games" id=stats.fastest_chug.card.game.id %}
					</td>
				</tr>
				<tr>
					<th>Average chug time</th>
					<td>{% firstof stats.average_chug_time "-" %}</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>

{% endblock %}